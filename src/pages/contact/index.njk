{% set title = 'LTO Network - Contact' %}
{% set description = 'Contact us' %}

{% extends "base.njk" %}

{% block content %}

<div class="section-container department-selection">
  <section class="hero is-medium" style="background-image: url('/assets/slider-image-marketplace.svg')">
    <div class="hero-body">
        <h1 class="primary-text has-text-centered">Who do you want to contact?</h1>
        <div class="has-margin-top-40"></div>
  {% include "partials/bottom-nav.njk" %}
    </div>
  </section>
</div>

<div class="section-container department-selected" style="display: none">
    <section class="hero is-medium" style="background-image: url('/assets/slider-image-marketplace.svg'); background-size: cover;">
      <div class="hero-body">
        <h1 class="primary-text has-text-centered">Send a message to <span class="contact-name"></span></h1>
        <div class="container">
          <div class="columns contact-form is-vcentered-mobile">
                <div class="column is-one-third vcard">
                <img class="vcard-image contact-image">
          <div class="vcard-content">
            <h2 class="accent-text has-text-centered contact-name"></h2>
            <div class="vcard-icon">
               <a class="contact-linkedin" href="" target="blank">
                <img src="/assets/ico - linkedin.svg">
                </a>
                </div>
          </div>
                </div>
                <div class="column vcard-form">
              <div class="columns">
                <div class="column">
                  <div class="">
                    <label class="">
                      First Name*
                    </label>
                    <div class="">
                      <input type="text" name="firstname" required/>
                    </div>
                  </div>
                </div>
                <div class="column">
                  <div class="" >
                    <label class="">
                      Last Name*
                    </label>
                    <div class="">
                      <input type="text" name="lastname" required/>
                    </div>
                  </div>
                </div>
              </div>

              <div class="columns">
                <div class="column">
                  <div class="" >
                    <label class="">
                      Email address*
                    </label>
                    <div class="">
                      <input type="text" name="email" required/>
                    </div>
                  </div>
                </div>
                <div class="column">
                  <div class="">
                    <label class="">
                      Name company
                    </label>
                    <div class="">
                      <input type="text" name="organization" value=""/>
                    </div>
                  </div>
                </div>
              </div>

              <div class="columns">
                <div class="column">
                  <div class="">
                    <label class="">
                      Message
                    </label>
                    <div class="">
                      <textarea name="message"></textarea>
                    </div>
                  </div>
              </div>
                </div>
                <div class="btn-container">
                    <button id="_form_135_submit" class="_submit button is-primary" type="submit">
                      Submit
                    </button>
                </div>
                </div>
            </div>
        </div>
    </section>
</div>

<div class="section-container cutout-top">
  <section class="section secondary promo-padding">
    <div class="promo-numbers r">
      <div class="container">
        <div class="item">
            <img class="marketplace promo-bar checkmark" src="/assets/table icon - good.svg">
            <p class="promo-desc">Easy integration</p>
        </div>
        <div class="item">
          <img class="marketplace promo-bar checkmark" src="/assets/table icon - good.svg">
          <p class="promo-desc">Big tech community</p>
        </div>
        <div class="item">
          <img class="marketplace promo-bar checkmark" src="/assets/table icon - good.svg">
          <p class="promo-desc">GDPR Compliant</p>
        </div>
      </div>
    </div>
  </div>
</section>
</div>

<script>
  const departmentList = {
    "software-vendors": {
      name: "Rick Ros",
      image: "rick-ros",
      linkedin: "rickros"
    },
    "business": {
      name: "Martijn Broersma",
      image: "martijn-broersma",
      linkedin: "martijnbroersma"
    },
    "developer": {
      name: "Sven Stam",
      image: "sven-stam",
      linkedin: "svenstam"
    }
  };

  function init() {
    var urlParams = new URLSearchParams(window.location.search);

    if (!urlParams.has('department')) {
      return;
    }

    const selectionDepartment = document.getElementsByClassName('department-selection')[0];
    const selectedDepartment = document.getElementsByClassName('department-selected')[0];
    selectionDepartment.style.display = 'none';
    selectedDepartment.style.display = 'block';

    const department = urlParams.get('department');

    setTimeout(setDepartment(department), 33);
  }

  function setDepartment(_department) {
    const dep = departmentList[_department];

    if (!dep) return;

    const contactName = document.getElementsByClassName('contact-name');
    const contactImage = document.getElementsByClassName('contact-image')[0];
    const contactLinkedIn = document.getElementsByClassName('contact-linkedin')[0];

    for (let i = 0; i < contactName.length; i++) {
      contactName[i].innerHTML = dep.name;
    }

    contactImage.src = `/assets/cards/${dep.image}.png`;
    contactLinkedIn.href = `https://www.linkedin.com/in/${dep.linkedin}/`;
  }

  init();
</script>

{% endblock %}
